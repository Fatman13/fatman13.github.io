
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Filecoin演进 - Fatman13</title>
	<meta name="author" content="Fatman13">

	
	<meta name="description" content="Filecoin演进 Filecoin自2020年10月15日主网上线以来，经历了近1年的成长。本文将结合Filecoin的多个重大网络升级，即FIP，按时间顺序讲一讲Filecoin这一年的演进。 2020年9月26日，FIP02在Lotus版本v0.8.0中实现。经历了测试网space &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Fatman13" type="application/atom+xml">
	
	<link rel="canonical" href="http://Fatman13.github.io/blog/2021/08/16/filecoinyan-jin/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
	    google_ad_client: "ca-pub-3632625378730677",
	    enable_page_level_ads: true
	  });
	</script>
</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img src='http://www.gravatar.com/avatar/" + MD5("tctctcly@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
	</script>
</div>
<h1><a href="/">Fatman13</a></h1>
<p class="subtitle">The Tauntaun Slayer</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://about.me/yu.leng">About</a></li>
  <!--<li><a href="/blog/archives">Archives</a></li>-->
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		<a class="weibo" href="http://www.weibo.com/FATman13CC" title="Weibo">Weibo</a>
		
		
		
		
		<a class="twitter" href="http://twitter.com/Fatman13CC" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/Fatman13" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
<!--<hgroup>
  <h1><a href="/">Fatman13</a></h1>
  
    <h2>The Tauntaun Slayer</h2>
  
</hgroup>
-->
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Filecoin演进</h1>
	<div class="entry-content" itemprop="articleBody"><p><code>Filecoin</code>自2020年10月15日主网上线以来，经历了近1年的成长。本文将结合<code>Filecoin</code>的多个重大网络升级，即FIP，按时间顺序讲一讲<code>Filecoin</code>这一年的演进。</p>

<!--more-->


<p>2020年9月26日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0002.md">FIP02</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v0.8.0">v0.8.0</a>中实现。经历了测试网<code>space race</code>的实践，大家发现最初制定<code>WindowPost</code>一次失败就立即惩罚的机制过于苛刻。全网达成共识，直到连续2次<code>windowPost</code>失败再进行惩罚。提升了网络对存储提供商的容错。</p>

<p>2020年10月13日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0003.md">FIP03</a>引入了<code>Filecoin</code>最初在<a href="https://filecoin.io/zh-cn/2020-engineering-filecoins-economy-zh-cn.pdf">Filecoin经济白皮书</a>中就已经提到的<code>Datacap</code>的概念。并开发了<code>file-plus</code>项目，为更好的激励真实数据被存储到服务商上，提供10倍算力的激励。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0003.md">FIP03</a>在社区中也引发了热烈的讨论。@ZX在社区中提到，<code>fplus</code>将使中小服务商获得<a href="https://filecoinproject.slack.com/archives/C01DLAPKDGX/p1613335396153800?thread_ts=1613166741.138800&amp;cid=C01DLAPKDGX">更大的收益</a>。</p>

<p>2020年10月21日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0004.md">FIP04</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.1.0">v1.1.0</a>中实现。在最初的<a href="https://filecoin.io/zh-cn/2020-engineering-filecoins-economy-zh-cn.pdf">Filecoin经济白皮书</a>中所有奖励都为线性释放，但在主网上线后，全网达成一定共识即需要部分立即释放的奖励提高服务商的流动性。现<code>Filecoin</code>全网奖励25%立即释放，75%线性释放由此而来。</p>

<p>2020年10月23日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0006.md">FIP06</a>由<a href="https://github.com/nicola">@Nicola</a>提出允许在<code>miner</code>负债的情况下提交<code>windowPost</code>，但最终方案于2021年01月05日被否决。</p>

<p>2020年11月19日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0005.md">FIP05</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.2.0">v1.2.0</a>中实现。主网上线后，<code>Filecoin</code>全网迎来了一波大增速，导致<code>gas</code>费用提升。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0005.md">FIP05</a>成为了最早开发者团队降低封装消息<code>gas</code>费用的尝试。把线性奖励释放的计算从<code>precommit</code>和<code>commit</code>中移除，降低对链资源的消耗。</p>

<p>2020年12月17日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0009.md">FIP009</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.3.0">v1.3.0</a>中实现。全网增速速度大大超出预期，导致<code>gas</code>费用居高不下，社区反映<a href="https://filecoinproject.slack.com/archives/C0179RNEMU4/p1607025028124900">强烈</a>。在短时间内没有明确技术解决方案之前，<code>WindowPost</code>暂停<code>gas-burn</code>部分的费用。经过<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0009.md">FIP009</a>之后，<code>windowPost</code>的<code>gas</code>被大大缓解。减轻因网络带宽窄带来的<code>gas</code>问题。</p>

<p>2021年2月24日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0007.md">FIP007</a>和<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0010.md">FIP0010</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.5.0">v1.5.0</a>中实现。经过中西方2个新年，<code>Filecoin</code>在主网迎来新年的第一个FIP。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0007.md">FIP007</a>优化了HAMT和AMT的性能。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0010.md">FIP0010</a>允许连下<code>WindowPost</code>验证，大大降低<code>windowPost</code>消耗的<code>gas</code>. <a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0010.md">FIP0010</a>代码逻辑改动较多，上线后，经过了<a href="https://github.com/filecoin-project/lotus/tags?after=v1.5.3">4个不同版本</a>的迭代，稳定了上线后网络环境。</p>

<p>2021年4月6日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0014.md">FIP0014</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.6.0">v1.6.0</a>中实现。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0014.md">FIP0014</a>的焦点在于使用V1类型证明封装的扇区是否可以被正常续期的问题上。有些人认为既然V1类型证明有安全问题，就不应该允许被延期。有些认为基于<a href="https://filecoinproject.slack.com/archives/C01EU76LPCJ/p1615524308014600?thread_ts=1615283805.008800&amp;cid=C01EU76LPCJ">公平原则</a>，应该允许V1扇区被延期。经过社区长期的<a href="https://github.com/filecoin-project/FIPs/issues/56">讨论</a>，最终在经过官方安全团队严谨的<a href="https://github.com/filecoin-project/FIPs/issues/56#issuecomment-804841505">研究</a>和社区<a href="https://filpoll.io/poll/7">投票</a>后，决定实施上线。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0014.md">FIP0014</a>代码实现相对比较简单，在通过后即被加入到主代码中。</p>

<p>2021年06月24日，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0008.md">FIP-0008</a>，<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0013.md">FIP-0013</a>和<a href="https://github.com/filecoin-project/FIPs/blob/master/_fips/fip-0015.md">FIP-0015</a>在Lotus版本<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.10.0">v1.10.0</a>中实现，并且<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0010.md">FIP-009</a>在该版本中被取消，使得<code>windowPost</code>的<code>burnfee</code>不再免费。<a href="https://github.com/filecoin-project/lotus/releases/tag/v1.10.0">v1.10.0</a>被命名为<a href="https://github.com/filecoin-project/community/discussions/74#discussioncomment-707228">HyperDrive</a>升级。此次升级代码改动较大，并且被给予降低全网<code>gas</code>和提升全网带宽的厚望。<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0008.md">FIP-0008</a>和<a href="https://github.com/filecoin-project/FIPs/blob/master/FIPS/fip-0013.md">FIP-0013</a>分别实现了<code>precommit</code>和<code>provecommit</code>的批量提交功能。全网<code>gas</code>保持了相对2020年11，12月份的低位。存储服务商在<a href="https://github.com/filecoin-project/community/discussions/74#discussioncomment-707228">HyperDrive</a>初期还不适应新增的聚合消息参数，但在磨合一段时间后，存储服务商们逐渐找到了各自最优的配置，使全网<code>gas</code>长期稳定在一定水平。</p>

<p>FIP0016，FIP0017和FIP0018都被相继提出，但是目前尚在讨论中。距离上次网络升级也有一定时间，希望能看到filecoin吸纳FIP的演进。</p>

<p>Filecoin链的演进还在不断进行中。包括最新官方公布的一些<a href="https://protocollabs.notion.site/FVM-Design-Space-PUBLIC-594c2a7a4263490d89e18c4703c41a4e">VM细节规划</a>/展望，以及不断在优化中的<code>market</code>市场组件。期待Filecoin链未来更多，更大的突破，为web3新基建作出一份贡献！</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style addthis_16x16_style">
	
	<a class="addthis_button_sinaweibo"></a>
	
	
	
	<a class="addthis_button_twitter"></a>
	
	
	
	<a class="addthis_button_compact"></a>
	<a class="addthis_counter addthis_bubble_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2021 - Fatman13 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Theme Designed by: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'Fatman13';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://Fatman13.github.io/blog/2021/08/16/filecoinyan-jin/';
        var disqus_url = 'http://Fatman13.github.io/blog/2021/08/16/filecoinyan-jin/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-42348539-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42348539-1', 'tauntaunslayer13.me');
  ga('send', 'pageview');

</script>

		</div>
	</div>
</body>
</html>
